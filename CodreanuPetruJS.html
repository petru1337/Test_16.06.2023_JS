<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>codreanuJs</title>
</head>

<body>
    <main id="esercizioSulDom">
        <div>Scegli il colore dello sfondo, del testo e digita il contenuto sotto</div>
        <input type="text" id="sfondo" placeholder="Colore di sfondo">
        <input type="text" id="testo" placeholder="Colore del testo">
        <input type="text" id="contenuto" placeholder="Contenuto">
        <button onclick="creaDiv()">Crea</button>
        <div id="box">Output:</div>
    </main>
    <script>
        console.log('########### Esercizio 1 EASY ###########')
        {



            // crea una funzione che prende in ingresso due set di 5 parole e restituisce la differenza tra il
            // numero di parole aventi lunghezza pari presenti nel primo set e il numero di parole che terminano
            // in 'a' presenti nel secondo set.
            // chiamare la funzione con valori a piacere per stampare il risultato. 

            function filtraParole(set1, set2) {
                let pari = 0
                let terminaA = 0

                set1.forEach(el => {
                    if (el.length % 2 === 0) {
                        pari++
                    }
                })

                set2.forEach(el => {
                    if (el.charAt(el.length - 1) === 'a') {
                        terminaA++
                    }
                })

                let differenza = pari - terminaA
                return differenza
            }

            // Esempio di utilizzo della funzione
            let set1 = new Set(['petru', 'marius', 'ciao', 'pera', 'coniglione']);
            let set2 = new Set(['zucca', 'mucca', 'pesce', 'gatto', 'pasta']);
            let risultato = filtraParole(set1, set2);
            console.log("La differenza  è:", risultato);
        }
        console.log('########### Esercizio 2 EASY ###########')
        {


            // Scrivi una funzione che prenda in input un array di 3 oggetti rappresentanti persone (nome,
            // cognome, età) e restituisca un nuovo array contenente le 3 persone ordinate per età crescente
            // (dal più giovane al più anziano).
            // Chiamare la funzione per produrre l'array, e successivamente iterare su questo array per stampare
            // le informazioni di tutte e 3 le persone.

            let persone = [
                { nome: "mario rossi", età: 32 },
                { nome: "luigi verdi", età: 25 },
                { nome: "peach pink", età: 30 }
            ];

            function dammiPersoneOrdinate(persone) {
                let personeOrdinate = []

                // Con un loop vado a controllare tutte le persone e mentre trovo il piu' giovane lo metto nel nuovo array e lo cancello dalla lista.
                // Il ciclo continua fino a quando la mia lista di persone non avra piu' elementi
                while (persone.length > 0) {
                    let personaPiuGiovane = persone[0];
                    for (let i = 1; i < persone.length; i++) {
                        if (persone[i].età < personaPiuGiovane.età) {
                            personaPiuGiovane = persone[i];
                        }
                    }
                    personeOrdinate.push(personaPiuGiovane)
                    persone.splice(persone.indexOf(personaPiuGiovane), 1)
                }
                return personeOrdinate
            }

            const personeOrdinate = dammiPersoneOrdinate(persone)
            personeOrdinate.forEach(persona => {
                console.log(`${persona.nome}, ${persona.età}`)
            })

        }
        console.log('########### Esercizio 3 EASY ###########')
        {

            // Crea un array di 6 stringhe a piacere.
            // Successivamente, crea una mappa che avrà come chiavi le parole contenute nell'array e per valori
            // le loro lunghezze.
            // Itera sulla mappa per stampare, per ogni coppia al suo interno, la frase:
            // la parola … contiene … caratteri

            const array = ["ciao", "come", "stai", "bellissimo", "arrivederci", "monello"]
            const mappa = new Map()
            array.forEach(parola => { mappa.set(parola, parola.length) })
            mappa.forEach((lunghezza, parola) => { console.log(`La parola ${parola} contiene ${lunghezza} caratteri.`) })
        }
        console.log('########### Esercizio 5 EASY ###########')
        {

            // Data una stringa s a piacere, stampare solo i caratteri univoci, ovvero i caratteri che compaiono
            // SOLO una volta nella lista.
            // Ad esempio:
            // abbazia -> zi
            function unaVolta(s) {
                let caratteri = []

                // Vado a vedere le occorrenze dei caratteri nella s
                for (let i of s) {
                    if (caratteri[i]) {
                        caratteri[i] += 1
                    } else {
                        caratteri[i] = 1
                    }
                }
                // Vado a controllare quelli che ci sono una sola volta
                let unaVolta = ''
                for (let i of s) {
                    if (caratteri[i] === 1) {
                        unaVolta += i
                    }
                }
                console.log(unaVolta)
            }
            unaVolta("abbazia")
            unaVolta("mangiare")
        }
        console.log('########### Esercizio 1 MEDIUM ###########')
        {



            // crea un array di 6 numeri interi e stampa in console la differenza tra il numero di numeri maggiori
            // di 10 e il numero di numeri inferiori a 1.
            // Inoltre, se il valore calcolato è pari a 0, stampa tutti i numeri dell'array in senso invertito,
            // altrimenti, stampa solo il primo e l'ultimo numero dell'array.

            let numeri = [-1, 12, 5, 14, 0, 3];

            // maggiori di 10
            let maggioriDi10 = 0
            for (let i = 0; i < numeri.length; i++) {
                if (numeri[i] > 10) {
                    maggioriDi10++
                }
            }
            console.log(`Ci sono ${maggioriDi10} numeri maggiori di 10`)

            // inferiori a 1
            let inferioriA1 = 0
            for (let i = 0; i < numeri.length; i++) {
                if (numeri[i] < 1) {
                    inferioriA1++
                }
            }
            console.log(`Ci sono ${inferioriA1} inferiori a 1`)

            let differenza = maggioriDi10 - inferioriA1;
            console.log(`Il risultato della differenza tra i numeri maggiori di 10 e minori di 1 e': ${differenza}`);

            if (differenza === 0) {
                console.log("Numeri in senso invertito:");
                for (let i = numeri.length - 1; i >= 0; i--) {
                    console.log(numeri[i]);
                }
            } else {
                console.log(`Primo numero: ${numeri[0]}`);
                console.log(`Ultimo numero: ${numeri[numeri.length - 1]}`);
            }
        }
        console.log('########### Esercizio 2 MEDIUM ###########')
        {



            // crea una funzione che prende in ingresso due set di 5 numeri e restituisce un oggetto.
            // Questo oggetto avrà le seguenti proprietà:
            // winner -> avrà valore 1 se il primo set ha più proprietà del secondo, altrimenti 2, e 0 se hanno
            // numero pari di proprietà
            // morePositive: avrà valore 1 se il primo set ha più numeri positivi (> 0) del secondo, altrimenti 2, e 0
            // se hanno numero pari di proprietà
            // chiama la funzione per stampare proprietà e valori dell'oggetto restituito


            const set1 = {
                1: 20,
                2: -4,
                3: 8,
                4: 3,
                5: -5
            }
            const set2 = {
                1: -3,
                2: 7,
                3: -2,
                4: 0,
                5: 8
            }

            function comparaSet(set1, set2) {
                const oggFinale = {}

                // quante proprieta' ci sono
                const xSet1 = Object.keys(set1)
                const xSet2 = Object.keys(set2)

                if (xSet1.length > xSet2.length) {
                    oggFinale.winner = 1
                } else if (xSet1.length < xSet2.length) {
                    oggFinale.winner = 2
                } else {
                    oggFinale.winner = 0
                }

                // positivita'
                let positiviInSet1 = 0
                let positiviInSet2 = 0

                xSet1.forEach(el => { if (set1[el] > 0) { positiviInSet1++ } })

                xSet2.forEach(el => { if (set2[el] > 0) { positiviInSet2++ } })

                if (positiviInSet1 > positiviInSet2) { oggFinale.morePositive = 1 }
                else if (positiviInSet1 < positiviInSet2) { oggFinale.morePositive = 2 }
                else { oggFinale.morePositive = 0 }
                return oggFinale
            }
            console.log(comparaSet(set1, set2))
        }
        console.log('########### Esercizio 3 MEDIUM ###########')
        {


            // crea una funzione che prende in ingresso 2 oggetti che rappresentano due rettangoli, che avranno
            // questa struttura: {x: valore numerico, y: valore numerico}, e una stringa che può avere i seguenti
            // valori:
            // - perimetro
            // - area
            // Se il terzo parametro ha valore 'perimetro' la funzione restituisce la differenza tra il perimetro del
            // primo rettangolo e il perimetro del secondo rettangolo.
            // Se il terzo parametro ha valore 'area' la funzione restituisce la somma tra l'area del primo
            // rettangolo e l'area del secondo rettangolo.
            // Ad esempio:
            // opeRettangolo( rect1, rect2, 'area' ) -> risultato
            // opeRettangolo( rect1, rect2, 'perimetro' ) -> risultato
            // Chiama la funzione 2 volte per stampare i valori prodotti, usando valori a piacere.

            function opeRettangolo(rect1, rect2, fn) {
                let perimetro1 = 2 * (rect1.x + rect1.y)
                let perimetro2 = 2 * (rect2.x + rect2.y)
                let area1 = rect1.x * rect1.y
                let area2 = rect2.x * rect2.y

                if (fn === 'perimetro') { return perimetro1 - perimetro2 }
                else if (fn === 'area') { return area1 + area2 }
                else { return 'Inserici come FN area o perimetro' }
            }

            let rect1 = { x: 3, y: 5 }
            let rect2 = { x: 4, y: 9 }

            let perimetri = opeRettangolo(rect1, rect2, 'perimetro')
            console.log('Differenza perimetri:', perimetri)
            let aree = opeRettangolo(rect1, rect2, 'area')
            console.log('Somma aree:', aree)
        }
        console.log('########### Esercizio 4 MEDIUM ###########')
        {


            // Creare una funzione chiamata opeStringa che accetta 2 parametri:
            // - una stringa
            // - una funzione che prende in ingresso una stringa e restituisce una nuova stringa,
            // trasformata
            // La funzione opeStringa deve restituire la stringa prodotta dalla funzione passata come secondo
            // parametro.
            // In fase di chiamata di opeStringa, operare nel seguente modo:
            // - chiamare opeStringa con una stringa "javascript" e una funzione che produca la versione
            // maiuscola
            // - chiamare opeStringa con una stringa "javascript" e una funzione che produca una stringa
            // contenente solo i caratteri alla posizione dispari
            // - chiamare opeStringa con una stringa "javascript" e una funzione che produca la stringa
            // invertita
            // Ad esempio:
            // s = javascript
            // opeStringa(s, uc) -> produce JAVASCRIPT
            // opeStringa(s, odd) -> produce aacit
            // opeStringa(s, invert) -> produce tpircsavaj
            // Stampare in output i risultati.

            function opeStringa(stringa, operazione) {
                return operazione(stringa)
            }
            // maiuscolo
            function uc(stringa) {
                return stringa.toUpperCase()
            }

            // dispari
            function odd(stringa) {
                let risultato = ""
                for (let i = 0; i < stringa.length; i++) {
                    if (i % 2 !== 0) {
                        risultato += stringa[i]
                    }
                }
                return risultato
            }

            // invertita
            function invert(stringa) {
                let risultato = "";
                for (let i = stringa.length - 1; i >= 0; i--) {
                    risultato += stringa.charAt(i);
                }
                return risultato;
            }
            let s = "javascript"
            console.log(opeStringa(s, uc))
            console.log(opeStringa(s, odd))
            console.log(opeStringa(s, invert))
        }
        console.log('########### Esercizio sul DOM ###########')
        {

            // Creare 3 campi input:
            // - il primo, stabilisce un colore di sfondo
            // - il secondo, stabilisce un colore di testo
            // - il terzo, stabilisce un contenuto
            // e un pulsante con testo "crea".
            // Al click sul pulsante, viene creato un div 200px x 200px che avrà sfondo, colore del testo e
            // contenuto dettati dagli input digitati, come sopra descritto.
            // Ogni volta che viene premuto il pulsante "crea" l'elemento creato viene aggiunto al precedente.

            function creaDiv() {
                let sfondo = document.getElementById("sfondo").value
                let coloreTesto = document.getElementById("testo").value
                let contenuto = document.getElementById("contenuto").value
                let contenitore = document.getElementById("box")

                //creo il mio container
                let div = document.createElement("div")
                div.style.width = "200px"
                div.style.height = "200px"
                div.style.background = sfondo
                div.style.color = coloreTesto
                div.textContent = contenuto
                //collego il mio container al div con id BOX
                contenitore.appendChild(div)

            }
        }
    </script>
</body>

</html>